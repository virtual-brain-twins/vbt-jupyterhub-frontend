{% extends "page.html" %}

{% if announcement_login is string %}
  {% set announcement = announcement_login %}
{% endif %}

{% macro list_item(btn_id, img, alt="") -%}
<li class="list-group-item list-group-item-action bg-light">
  <img class="logo rounded-3 py-1 my-2"
       src="{{ static_url(img, include_version=False) }}"
       alt="{{ alt }}" />
</li>
{%- endmacro %}

{% block main %}
<div class="login-content-wrapper d-flex flex-column justify-content-center align-items-center">
	<div id="jsc-login-container" class="d-flex border shadow rounded-3 bg-light py-5">
	  <div class="row g-0 justify-content-center w-100">
		<!-- Left column with logos -->
		<div id="accounts-login-div" class="d-flex col-md-7 justify-content-center align-items-center ps-5 pe-1">
		  <div class="row g-0 w-100 d-flex justify-content-center align-items-center">
			<p class="fs-5 text-dark ps-3">
			  Sign in using one of the following accounts
			  <ul class="list-group list-group-flush my-2">
				{{ list_item("jsc-login", "images/pages/login/Logo_FZ_Juelich_jsc.png", alt="JSC-Account") }}
				{{ list_item("helmholz-login", "images/pages/login/Helmholz_AAI_ID.png", alt="Helmholtz AAI ID") }}
			  </ul>
			</p>
		  </div>
		</div>

		<!-- Right column with login button -->
		<div id="button-login-div" class="d-flex col h-100 px-5">
		  <div class="row g-0 d-flex w-100">
			<div class="d-flex justify-content-center align-items-center pt-5">
			  <a id="btn-login" class="btn btn-vbt shadow btn-lg p-4" role="button">Sign In</a>
			</div>
			<p class="fs-6 fw-light text-dark align-self-end text-center">No account yet?
			  <a href="https://jupyterjsc.pages.jsc.fz-juelich.de/docs/jupyterjsc/authentication/" target="_blank">
				Help
			  </a>
			</p>
		  </div>
		</div>
	  </div>
	</div>
 </div>

  <!-- VBT White Banner -->
  <div class="white-band">
    <div class="white-band-content">
      <div class="white-band-left">
        <p>JUPYTER HUB</p>
        <p>FOR</p>
        <p>VIRTUAL BRAIN TWIN</p>
      </div>
      <div class="white-band-right">
        <img src="{{ base_url }}static/images/logo_tagline.svg" alt="VBT Logo">
      </div>
    </div>
  </div>
{% endblock main %}

{% block script %}
  {{ super() }}
  <script src='{{ static_url("js/login.js", include_version=True) }}'></script>
  <script>
    $("nav [id$=nav-item]").removeClass("active");
    $("#start-nav-item, #collapse-start-nav-item").addClass("active");

    $("#btn-login").click(function () {
      var url = window.location.search;
      window.location.href = "{{ base_url }}oauth_login" + url;
    });
  </script>
{% endblock script %}
